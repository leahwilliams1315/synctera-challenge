(this["webpackJsonpsynctera-challenge"]=this["webpackJsonpsynctera-challenge"]||[]).push([[0],{63:function(e,t,n){},64:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(6),i=n(0),r=n.n(i),a=n(10),s=n.n(a),o=(n(63),n(19)),l=n(11),j=n(21),u=n(14),d=(n(64),n(71)),b=n(130),O=n(134),h=n(133),f=n(132),m=n(131),p=n(127),x=n(128),v=n(52),C=n(129),y=n(137),D=n(124),g=n(122),T=n(123),w=n(121),N=n(125),W=n(117),k=function(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))},S=function(e){return e?"$".concat(e.toFixed(2)):""},F=Object(i.forwardRef)((function(e,t){return Object(c.jsx)(W.a,Object(j.a)({ref:t},e))})),I=function(e){var t=Object(i.useState)(e.isOpen),n=Object(u.a)(t,2),r=n[0],a=n[1];Object(i.useEffect)((function(){a(e.isOpen)}),[e.isOpen]);var s=function(){a(!1),e.onClose()};return Object(c.jsxs)(y.a,{open:r,TransitionComponent:F,keepMounted:!0,onClose:s,children:[Object(c.jsx)(w.a,{children:"Transaction Details"}),Object(c.jsx)(g.a,{children:Object(c.jsx)(T.a,{children:e.id?Object(c.jsxs)("div",{className:"content-container",children:[Object(c.jsxs)("div",{className:"content-row",children:[Object(c.jsx)("div",{className:"content-label",children:"Transaction Date:"}),Object(c.jsx)("div",{children:k(e["Transaction-Date"])})]}),Object(c.jsxs)("div",{className:"content-row",children:[Object(c.jsx)("div",{className:"content-label",children:"Description:"}),Object(c.jsx)("div",{children:e.Description})]}),Object(c.jsxs)("div",{className:"content-row",children:[Object(c.jsx)("div",{className:"content-label",children:"Category:"}),Object(c.jsx)("div",{children:e.Category})]}),Object(c.jsxs)("div",{className:"content-row",children:[Object(c.jsx)("div",{className:"content-label",children:"Amount:"}),Object(c.jsx)("div",{children:S(e.amount)})]})]}):""})}),Object(c.jsx)(D.a,{children:Object(c.jsx)(N.a,{onClick:s,color:"primary",children:"Close"})})]})},A=n(138),B=n(139),E=n(126),M=n(135),J=function(e){var t=e.options,n=e.selectedOption,i=e.onChange;return Object(c.jsxs)(E.a,{style:{minWidth:270},children:[Object(c.jsx)(A.a,{style:{color:"white"},id:"filter-select",children:"Filter by..."}),Object(c.jsx)(M.a,{style:{color:"white"},labelId:"filter-select",value:n||"",renderValue:function(){return n?n.label:null},onChange:i,children:t.map((function(e){return Object(c.jsx)(B.a,{value:e,children:e.label},e.label)}))})]})};var L=function(){var e=Object(i.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(null),s=Object(u.a)(a,2),y=s[0],D=s[1],g=Object(i.useState)(null),T=Object(u.a)(g,2),w=T[0],N=T[1];Object(i.useEffect)((function(){fetch("https://sampleapis.com/fakebank/api/Accounts").then((function(e){return e.json()})).then((function(e){return r(e.filter((function(e){return e["Transaction-Date"]})))}))}),[]);var W=[{id:"Transaction-Date",label:"Transaction Date",minWidth:170,format:k},{id:"Description",label:"Description",minWidth:300},{id:"Debit",label:"Withdrawal",minWidth:50,format:S},{id:"Credit",label:"Deposit",minWidth:50,format:S}],F=[{label:"All",value:function(){return!0}},{label:"Top 10 Merchants",value:function(e,t,n){var c=n.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(l.a)({},t.Description,e[t.Description]?e[t.Description]+1:1))}),{});return Object.entries(c).sort((function(e,t){return t[1]-e[1]})).slice(0,10).map((function(e){return e[0]})).includes(e.Description)}},{label:"Top 10 by amount",value:function(e,t,n){return n.sort((function(e,t){return(t.Debit||t.Credit)-(e.Debit||e.Credit)})).slice(0,10).map((function(e){return e.id})).includes(e.id)}},{label:"Top 3 Categories by amount",value:function(e,t,n){var c=n.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(l.a)({},t.Category,e[t.Category]?e[t.Category]+(t.Debit||t.Credit):t.Debit||t.Credit))}),{});return Object.entries(c).sort((function(e,t){return t[1]-e[1]})).slice(0,3).map((function(e){return e[0]})).includes(e.Category)}}];return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(p.a,{position:"static",children:Object(c.jsxs)(x.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsx)(v.a,{variant:"h6",children:"Synctera"}),Object(c.jsx)(J,{options:F,selectedOption:w,onChange:function(e){return N(e.target.value)}})]})}),Object(c.jsx)("div",{className:"app-content",children:Object(c.jsx)(d.a,{className:"paper",children:Object(c.jsx)(C.a,{className:"container",children:Object(c.jsxs)(b.a,{stickyHeader:!0,children:[Object(c.jsx)(m.a,{children:Object(c.jsx)(f.a,{children:W.map((function(e){return Object(c.jsx)(h.a,{style:{minWidth:e.minWidth,fontWeight:"900"},children:e.label},e.id)}))})}),Object(c.jsx)(O.a,{children:Object(o.a)(n).filter(w?w.value:function(){return!0}).sort((function(e,t){return t["Transaction-Date"]>e["Transaction-Date"]?1:-1})).map((function(e){return Object(c.jsx)(f.a,{onClick:function(){D(e)},style:{cursor:"pointer"},hover:!0,children:W.map((function(t){return Object(c.jsx)(h.a,{style:{minWidth:t.minWidth},children:t.format?t.format(e[t.id]):e[t.id]},t.id)}))},e.id)}))})]})})})}),Object(c.jsx)(I,Object(j.a)(Object(j.a)({isOpen:Boolean(y)},y||{}),{},{amount:y?y.Debit||y.Credit:0,onClose:function(){return D(null)}}))]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,140)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(L,{})}),document.getElementById("root")),P()}},[[70,1,2]]]);
//# sourceMappingURL=main.4adfdab8.chunk.js.map